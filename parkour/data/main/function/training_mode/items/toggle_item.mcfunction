execute as @s[team=!training_mode,tag=tools,nbt=!{Inventory:[{components:{"minecraft:custom_data":{"tm_toggle":true}}}]}] unless items entity @s player.cursor *[custom_data={"tm_toggle":true}] run item replace entity @s hotbar.0 with minecraft:ink_sac[item_name='[{"text":"Enable","color":"green","bold": true,"italic": false},{"text":" Training Mode","color":"white","bold": false,"italic": false}]',custom_data={"tm_toggle":true},hide_additional_tooltip={},lore=['[{"text": "Right click","color": "gold","italic": false},{"text": " to enable/disable training mode","color": "gray","italic": false}]','{"text": ""}','[{"text": "Note: ","color": "red","bold": true,"italic": false},{"text": "When training mode is enabled, the","bold": false,"color": "gray","italic": false}]','{"text": "timer will reset. You must disable training ","bold": false,"color": "gray","italic": false}','{"text": "mode and start over to restart the timer","bold": false,"color": "gray","italic": false}','{"text": "and finish the map normally","bold": false,"color": "gray","italic": false}'],food={nutrition:0,saturation:0,can_always_eat:true,eat_seconds:2147483647}]

execute as @s[team=training_mode,nbt=!{Inventory:[{components:{"minecraft:custom_data":{"tm_toggle":true}}}]}] unless items entity @s player.cursor *[custom_data={"tm_toggle":true}] run item replace entity @s hotbar.0 with minecraft:glow_ink_sac[item_name='[{"text":"Disable","color":"red","bold": true,"italic": false},{"text":" Training mode","color":"white","bold": false,"italic": false}]',custom_data={"tm_toggle":true},hide_additional_tooltip={},lore=['[{"text": "Right click","color": "gold","italic": false},{"text": " to enable/disable training mode","color": "gray","italic": false}]','{"text": ""}','[{"text": "Note: ","color": "red","bold": true,"italic": false},{"text": "When training mode is enabled, the","bold": false,"color": "gray","italic": false}]','{"text": "timer will reset. You must disable training ","bold": false,"color": "gray","italic": false}','{"text": "mode and start over to restart the timer","bold": false,"color": "gray","italic": false}','{"text": "and finish the map normally","bold": false,"color": "gray","italic": false}'],food={nutrition:0,saturation:0,can_always_eat:true,eat_seconds:2147483647}]