execute as @s[team=!training_mode,tag=tools,nbt=!{Inventory:[{components:{"minecraft:custom_data":{"tm_toggle":true}}}]}] unless items entity @s player.cursor *[custom_data={"tm_toggle":true}] run item replace entity @s hotbar.0 with minecraft:ink_sac[item_name='[{"text":"启用","color":"green","bold": true,"italic": false},{"text":" 练习模式","color":"white","bold": false,"italic": false}]',custom_data={"tm_toggle":true},hide_additional_tooltip={},lore=['[{"text": "右键","color": "gold","italic": false},{"text": " 以启用/禁用练习模式","color": "gray","italic": false}]','{"text": ""}','[{"text": "注意: ","color": "red","bold": true,"italic": false},{"text": "当练习模式启用后, 地图的计时会终止.","bold": false,"color": "gray","italic": false}]','{"text": "你必须在禁用练习模式后重新开始游玩地图,","bold": false,"color": "gray","italic": false}','{"text": "才能恢复计时并正常完成地图","bold": false,"color": "gray","italic": false}'],food={nutrition:0,saturation:0,can_always_eat:true,eat_seconds:2147483647}]

execute as @s[team=training_mode,nbt=!{Inventory:[{components:{"minecraft:custom_data":{"tm_toggle":true}}}]}] unless items entity @s player.cursor *[custom_data={"tm_toggle":true}] run item replace entity @s hotbar.0 with minecraft:glow_ink_sac[item_name='[{"text":"禁用","color":"red","bold": true,"italic": false},{"text":" 练习模式","color":"white","bold": false,"italic": false}]',custom_data={"tm_toggle":true},hide_additional_tooltip={},lore=['[{"text": "右键","color": "gold","italic": false},{"text": " 以启用/禁用练习模式","color": "gray","italic": false}]','{"text": ""}','[{"text": "注意: ","color": "red","bold": true,"italic": false},{"text": "当练习模式启用后, 地图的计时会终止.","bold": false,"color": "gray","italic": false}]','{"text": "你必须在禁用练习模式后重新开始游玩地图,","bold": false,"color": "gray","italic": false}','{"text": "才能恢复计时并正常完成地图","bold": false,"color": "gray","italic": false}'],food={nutrition:0,saturation:0,can_always_eat:true,eat_seconds:2147483647}]